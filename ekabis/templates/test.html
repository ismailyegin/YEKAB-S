<html>
<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="main.js"></script>
    <style>
        *, *:before, *:after {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }

        body {
            min-width: 1200px;
            margin: 0;
            padding: 50px;
            font: 16px Verdana, sans-serif;
            background: #FFFAE3;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        #wrapper {
            position: relative;
        }

        .branch-blank {
            position: relative;
            margin-left: 400px;
        }

        .branch {
            position: relative;
            margin-left: 400px;
        }

        .branch:before {
            content: "";
            width: 100px;
            border-top: 2px solid #eee9dc;
            position: absolute;
            left: -150px;
            top: 50%;
            margin-top: 1px;
        }

        .blank {
            position: relative;
            min-height: 60px;
            border-left: 2px solid white;
            left: -50px;
        }

        .entry {
            position: relative;
            /* position: absolute; */
            min-height: 60px;
        }

        .entry:before {
            content: "";
            height: 100%;
            border-left: 2px solid #eee9dc;
            position: absolute;
            left: -50px;
        }

        .entry:after {
            content: "";
            width: 50px;
            border-top: 2px solid #eee9dc;
            position: absolute;
            left: -50px;
            top: 50%;
            margin-top: 1px;
            /*border: 2px solid black;*/
        }

        .entry:first-child:before {
            width: 10px;
            height: 50%;
            top: 50%;
            margin-top: 2px;
            border-radius: 10px 0 0 0;
        }

        .entry:first-child:after {
            height: 10px;
            border-radius: 10px 0 0 0;
            /* border: 5px solid red; */
        }

        .entry:first-child {
        }

        .special:after {
            height: 10px;
            border-radius: 10px 0 0 0;
            border-left: 2px solid #eee9dc;
        }

        .special:before {
            /*border: none;*/
            /*content: "";*/
            height: 30%;
            border-left: 2px solid #eee9dc;
            top: 70%;
            /*position: absolute;
            left: -50px;
            border: 2px solid orange;*/
        }

        .entry:last-child:before {
            width: 10px;
            height: 50%;
            border-radius: 0 0 0 10px;
            /* border: 5px solid red; */
        }

        .entry:last-child:after {
            height: 10px;
            border-top: none;
            border-bottom: 2px solid white;
            border-radius: 0 0 0 10px;
            margin-top: -9px;
        }

        .entry.sole:before {
            display: none;
        }

        .entry.sole:after {
            width: 50px;
            height: 0;
            margin-top: 1px;
            border-radius: 0;
        }

        .label {
            display: block;
            min-width: 250px;
            padding: 5px 10px;
            line-height: 20px;
            text-align: center;
            border: 2px solid black;
            border-radius: 5px;
            position: absolute;
            left: 0;
            top: 50%;
            margin-top: -15px;
        }

        .top-button {
            display: block;
            min-width: 150px;
            padding: 5px 10px;
            line-height: 30px;
            border: 2px solid yellow;
            border-radius: 5px;
            position: absolute;
            left: 0;
            top: 50%;
            margin-top: -27px;
            margin-left: 35px;
        }

        .ip:before {
            content: "";
            width: 10px;
            border-right: 2px solid #eee9dc;
            position: absolute;
            top: 30px;
            margin-top: 1px;
            height: 50px;
        }

        .ip {
            margin-top: -110px;
            position: absolute;
            z-index: -1;
        }

        .bottom-button {
            display: block;
            min-width: 150px;
            padding: 5px 10px;
            line-height: 30px;
            border: 2px solid green;
            border-radius: 25px;
            position: absolute;
            left: 0;
            top: 50%;
            margin-top: 19px;
            margin-left: 35px;
        }

        .mp {
            margin-top: 60px;
            position: absolute;
            z-index: 2;
            background: red;
            /* line-height: 20px; */
        }

        .mp:before {
            content: "";
            width: 10px;
            border-right: 2px solid #eee9dc;
            position: absolute;
            top: -32px;
            margin-top: 1px;
            height: 30px;
        }

        /*We will apply the hover effect the the lineage of the element also*/
        /*, .tree li a:hover+ul li a*/
        .entry span:hover, .entry span:hover + div span, .label:hover {
            background: #c8e4f8;
            color: #000;
            border: 1px solid #94a0b4;
        }

        /*Connector styles on hover FIX THIS*/
        /*.tree li a:hover+ul li::after, */
        .entry span:hover + div span::after,
            /*.tree li a:hover+ul li::before, */
        .entry span:hover + div span::after,
            /*.tree li a:hover+ul::before, */
        .entry span:hover + div::before,
            /*.tree li a:hover+ul ul::before*/
        .entry span:hover + span::before {
            border-color: #000;
        }

        /*FROM BRYAN*/
        .hasMore {
            border: 2px red solid !important;
        }

        .title {
            padding-left: 50px;
            white-space: nowrap;
        }

        #L100000, #L200000, #L300000 {
            top: -20px;
            position: absolute;
        }

        #root {
            margin-top: -6px;
        }
    </style>
</head>
<body onload="init()">
<div id="wrapper"><span class="title">Catalogue Number</span><span class="label toggleable" id="root">Root</span>
    <div class="branch lv1" id="branch1">
        <div class="entry" id="entry"><span class="title" id="L100000">100000 Level</span><span
                class="top-button"></span><span class="label ip" id="ip">IP</span><span
                class="label toggleable">Entry 1</span><span class="bottom-button"></span><span class="label mp"
                                                                                                id="mp">MP</span>
            <div class="branch lv2">
                <div class="entry"><span class="title" id="L200000">200000 Level</span><span class="label toggleable">Entry 1-1</span>
                    <div class="branch lv3">
                        <div class="entry"><span class="title" id="L300000">300000 Level</span><span
                                class="label toggleable">Entry 1-1-1</span></div>
                        <div class="entry"><span class="label">Entry 1-1-2</span>
                        </div>
                    </div>
                </div>
                <div class="entry"><span class="label toggleable">Entry-1-2</span>
                    <div class="branch lv3">
                        <div class="entry sole"><span class="label toggleable">Entry-1-2-1</span></div>
                    </div>
                </div>
                <div class="entry"><span class="label toggleable">Entry-1-3</span>
                    <div class="branch lv3">
                        <div class="entry sole"><span class="label">Entry-1-3-1</span></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="entry"><span class="label" id="two">Entry-2</span></div>
        <div class="entry"><span class="label toggleable">Entry-3</span>
            <div class="branch lv2">
                <div class="entry"><span class="label">Entry-3-1</span></div>
                <div class="entry"><span class="label">Entry-3-2</span></div>
                <div class="entry"><span class="label toggleable">Entry-3-3</span>
                </div>
                <div class="entry"><span class="label">Entry-3-4</span></div>
            </div>
        </div>
        <div class="entry"><span class="label">Entry-4</span></div>
        <div class="entry"><span class="label">Entry-5</span></div>
    </div>
</div>
<script>
    function init() {
        $(".toggleable").on("click", function () {
            if (this.nextElementSibling) {
                var next_branch = $(this).nextAll(".branch");
                next_branch.toggle();
                $(this).toggleClass("hasMore");
                if ($(this).attr('id') == 'root') {
                    if ($(this).css("margin-top") == "25px") {
                        $(this).css("margin-top", "-7px");
                    } else {
                        $(this).css("margin-top", "25px");
                    }
                    ;
                }
                ;
            }
        });

        $(".top-button").on("click", function () {
            if (this.nextElementSibling) {
                if ($(this.nextElementSibling).css('display') == "none") {
                    $("<div class='blank'><span></span></div>").insertBefore($(this).parent());
                    $('.top-button').parent().removeClass('special');
                } else {
                    $(this).parent().siblings('.blank').slideUp(600);
                    $('.top-button').parent().addClass('special');
                }
                $(this.nextElementSibling).slideToggle(600);
            }
            ;
        });

        $(".bottom-button").on("click", function () {
            if ($(this.nextElementSibling).css('display') == "none") {
                $("<div class='blank'><span></span></div>").insertAfter($(this).parent());
            } else {
                // remove inserted stuff
                $('.blank').slideUp(500);
            }
            $(this.nextElementSibling).slideToggle(600);
        });
    }

</script>
</body>

</html>